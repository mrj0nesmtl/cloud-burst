---
description: API Standards for Cloud Capture
globs: src/services/**/*.ts", "src/lib/api/**/*.ts
---
# API Standards

## API Architecture
```typescript
{
  "apiStandards": {
    "structure": {
      "baseLocation": "src/services",
      "endpoints": {
        "auth": "/api/auth",
        "events": "/api/events",
        "photos": "/api/photos",
        "users": "/api/users",
        "ai": "/api/ai", // Added AI endpoints
        "upload": "/api/upload" // Added upload endpoint
      },
      "middleware": {
        "base": "src/middleware.ts",
        "auth": "src/middleware/auth.ts",
        "upload": "src/middleware/upload.ts"
      }
    },
    "supabase": {
      "client": {
        "location": "src/lib/supabase.ts",
        "types": "src/types/supabase.ts",
        "config": "src/lib/supabase-config.ts"
      },
      "services": {
        "auth": "src/services/auth.ts",
        "storage": "src/services/storage.ts",
        "realtime": "src/services/realtime.ts",
        "ai": "src/services/ai.ts" // Added AI service
      }
    },
    "error": {
      "handling": {
        "types": "src/types/api.ts",
        "middleware": "src/middleware/error.ts",
        "responses": {
          "400": "(╯°□°）╯︵ ┻━┻ Bad Request",
          "401": "(ಠ_ಠ) Unauthorized – Who goes there?",
          "403": "(ノಠ益ಠ)ノ彡 Forbidden – You shall not pass!",
          "404": "¯\\_(ツ)_/¯ Not Found – Lost in the void...",
          "413": "(；一_一) Payload Too Large – That's too much data!",
          "429": "(⊙_⊙;) Too Many Requests – Slow down!",
          "500": "(╥﹏╥) Internal Server Error – Everything is on fire..."
        }
      }
    },
    "rateLimit": {
      "public": {
        "window": "1m",
        "max": 60
      },
      "authenticated": {
        "window": "1m",
        "max": 120
      },
      "upload": {
        "window": "1m",
        "max": 30
      }
    }
  }
}
```